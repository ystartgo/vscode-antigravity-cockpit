# 更新日誌

繁體中文 · [English](CHANGELOG.md) · [简体中文](CHANGELOG.zh-CN.md)

本檔案記錄 Antigravity Cockpit 擴充功能的所有重要變更。

格式參考 [Keep a Changelog](https://keepachangelog.com/zh-TW/1.0.0/)。

---

## [1.5.12] - 2025-12-17

### 修復
- **狀態顏色**:狀態球顏色調整回更鮮豔的色調(使用終端機/圖表高亮色,取代較暗的圖示色)

---

## [1.5.11] - 2025-12-16

### 新增
- **名稱+數字模式**:新增狀態列格式 `Sonnet: 95%`(不帶狀態球)

### 變更
- **狀態列選擇器**:從按鈕組改為下拉選單,介面更簡潔
- **設定標題**:從「提醒設定」簡化為「設定」
- **設定自動儲存**:所有設定立即生效,無需手動儲存
- **閾值自動調整**:超出範圍的值自動調整為有效值

### 修復
- **設定彈框保持**:資料自動重新整理時彈框不再關閉

---

## [1.5.1] - 2025-12-16

### 新增
- **重設名稱按鈕**:重新命名彈框新增「重設」按鈕,可快速恢復原始名稱

### 修復
- **狀態列同步**:自訂模型名稱現在會正確顯示在狀態列中(非分組模式)

### 改進
- **主題適配**:使用 VS Code 主題變數適配顏色(Tooltip、語意色、標籤等)

---

## [1.5.0] - 2025-12-16

### 新增
- **模型重新命名**:在非分組模式下可以重新命名單一模型(點擊模型卡片上的 ✏️ 圖示)
- **狀態列樣式選擇器**:在設定面板中提供 5 種狀態列顯示模式
  - 僅圖示(`🚀`)
  - 僅狀態球(`🟢` | `🟡` | `🔴`)
  - 僅數字(`95%`)
  - 狀態球+數字(`🟢 95%`)
  - 完整顯示(`🟢 Sonnet: 95%`) - 預設

### 變更
- 設定面板新增狀態列樣式選擇器,支援即時預覽
- 自訂模型名稱跨工作階段持久化儲存

---

## [1.4.24] - 2025-12-15

### 變更
- QuickPick 模式:使用 Emoji 圖示,確保在所有主題下始終可見

---

## [1.4.23] - 2025-12-15

### 新增
- QuickPick 模式:新增「切換到 Webview 模式」按鈕,方便切換顯示模式

---

## [1.4.22] - 2025-12-15

### 新增
- QuickPick 相容模式:使用 VSCode 原生 QuickPick API 取代 Webview
- 更好相容 Webview 不受支援的環境
- 透過 `agCockpit.displayMode: "quickpick"` 設定啟用
- 功能:檢視所有模型配額、切換狀態列固定、重新整理資料
- Webview 載入失敗時自動引導使用者切換到 QuickPick 模式

---

## [1.4.21] - 2025-12-15

### 變更
- 文件:拆分中英文 README 與更新日誌,並加入語言切換連結
- 文件:以 Open VSX 徽章/連結作為主要分發管道

---

## [1.4.20] - 2025-12-15

### 修復
- 修復啟動時服務未就緒(500 錯誤)導致的 `Cannot read properties of undefined` 當機問題
- 新增伺服器回應驗證,提供更清晰的錯誤訊息

### 新增
- 啟動時自動重試機制:首次同步失敗會自動重試最多 3 次

---

## [1.4.19] - 2025-12-13

### 安全
- 診斷日誌中的敏感資訊(`csrf_token`)去識別化處理,防止資訊洩露

---

## [1.4.18] - 2025-12-13

### 新增
- 建立獨立的 `CHANGELOG.md` 檔案,記錄所有歷史版本更新

### 變更
- README 中的 Changelog 章節改為引用獨立檔案
- 移除冗餘的 `activationEvents` 設定(VS Code 自動產生)

---

## [1.4.17] - 2025-12-13

### 新增
- 啟動日誌中顯示擴充功能版本號,方便問題排查

---

## [1.4.16] - 2025-12-13

### 修復
- 最佳化程序識別邏輯,精準比對 Antigravity 程序
- 避免誤識別 Windsurf 等其他編輯器程序
- 強制要求 `--app_data_dir antigravity` 參數或路徑包含 `antigravity`

---

## [1.4.15] - 2025-12-13

### 修復
- 修復所有 ESLint 錯誤(23 個錯誤 → 0)
- 將 `require()` 改為 ES6 動態 `import()`
- 為 case 區塊新增大括號作用域
- 修復 TypeScript `any` 型別警告

### 改進
- 增強 Windows 程序偵測容錯性
- 新增 PowerShell/WMIC 雙向自動切換機制
- 新增切換次數限制防止無限迴圈
- PowerShell 冷啟動等待時間從 1秒 增加到 2秒
- 偵測 PowerShell 執行原則和 WMI 服務問題
- 增強診斷資訊,提供使用者友善的故障排除提示

---

## [1.4.14] - 2025-12-12

### 修復
- 修復多程序情境下的程序偵測問題
- 改進程序驗證邏輯

---

## [1.4.13] - 2025-12-12

### 變更
- 分組重新命名改用模態框輸入
- 移除儀表板中的「最後更新時間」顯示

---

## [1.4.12] - 2025-12-12

### 修復
- 修復 PowerShell 冷啟動逾時問題
- 增加程序命令執行逾時時間至 8 秒

---

## [1.4.11] - 2025-12-12

### 變更
- 版本號整理

---

## [1.4.1] - 2025-12-11

### 新增
- 新增閾值通知開關,支援使用者控制是否彈出提醒

### 修復
- 修復通知開關狀態未正確傳遞到前端的問題
- 修復點擊狀態列和重新整理快取時閾值顏色判斷錯誤的問題

---

## [1.4.0] - 2025-12-11

### 新增
- 可設定的警告/危險閾值
- 快速鍵支援(檢視日誌、開啟儀表板等)
- 意見回饋入口(GitHub Issues)
- 閾值通知功能

### 改進
- 最佳化配額判斷邏輯
- 統一顏色顯示標準

---

## [1.3.14] - 2025-12-10

### 新增
- 新增備用關鍵字搜尋(透過 `csrf_token` 查找程序)

### 修復
- 修復 PowerShell 引號跳脫問題

---

## [1.3.12] - 2025-12-08

### 修復
- 修正儀表板狀態邏輯
- 完善國際化支援
- Tooltip 中使用完整模型名稱

---

## [1.3.1] - 2025-12-07

### 新增
- 狀態列彩色指示器(🟢🟡🔴)
- 統一的三色狀態邏輯

### 改進
- 精度修復
- 工具提示模型順序與儀表板一致

---

## [1.3.0] - 2025-12-07

### 新增
- Tooltip 對齊最佳化
- 統一閾值設定
- 自動重試機制

---

## [1.2.16] - 2025-12-06

### 新增
- 首次切換到分組模式時自動分組

---

## [1.2.15] - 2025-12-06

### 新增
- 手動自動分組功能
- 持久化分組對應

---

## [1.2.13] - 2025-12-05

### 修復
- 確保自動置頂在 UI 重新整理前執行

---

## [1.2.12] - 2025-12-05

### 修復
- 使用基於模型 ID 的穩定 groupId

---

## [1.2.11] - 2025-12-05

### 修復
- 多項改進和錯誤修復

---

## [1.2.1] - 2025-12-04

### 修復
- 首次啟用分組時自動置頂所有分組

---

## [1.2.0] - 2025-12-04

### 新增
- 配額分組功能
- 分組自訂名稱
- 分組拖曳排序
- 分組狀態列顯示

---

## [1.1.153] - 2025-12-03

### 新增
- 使用趨勢圖可見性切換

---

## [1.1.152] - 2025-12-03

### 新增
- 配額歷史圖表(7 天資料保留)

---

## [1.1.151] - 2025-12-02

### 改進
- 簡化使用者資料控制
- 資料遮罩改用文字按鈕
- 可見性切換移至頂部

---

## [1.1.150] - 2025-12-02

### 新增
- 使用者資料可見性切換
- 敏感資料遮罩功能

---

## [1.1.149] - 2025-12-02

### 新增
- 隱私模式
- 使用者資料可見性切換

---

## [1.1.148] - 2025-12-01

### 修復
- 移除 Prompt Credits 設定
- 設定變更時自動更新狀態列

---

## [1.1.147] - 2025-12-01

### 修復
- 連線失敗時自動重新掃描

---

## [1.1.146] - 2025-11-30

### 修復
- 狀態列錯誤狀態未清除的問題

---

## [1.1.144] - 2025-11-30

### 變更
- 將「User ID」重新命名為「Internal Tier ID」

---

## [1.1.143] - 2025-11-29

### 新增
- 詳細使用者資料欄位本地化

---

## [1.1.142] - 2025-11-29

### 改進
- 上下文視窗邏輯移至固定區域

---

## [1.1.14] - 2025-11-28

### 新增
- 完整的使用者資料詳情
- 狀態持久化

---

## [1.1.13] - 2025-11-27

### 改進
- 最佳化 UI 互動
- 修復置頂切換功能

---

## [1.1.12] - 2025-11-27

### 改進
- 增強偵錯日誌
- 最佳化重新整理行為

---

## [1.1.11] - 2025-11-26

### 修復
- 使用向下取整百分比,避免誤導性的 100%

---

## [1.0.0] - 2025-11-25

### 新增
- 首次發布 🎉
- 沉浸式儀表板
- 精確定時重新整理
- 互動式控制(拖曳排序、置頂模型)
- 智慧狀態列
- 智慧通知
- 中英文雙語支援
- 跨平台支援(Windows / macOS / Linux)

