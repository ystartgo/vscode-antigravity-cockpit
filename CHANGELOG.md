# Changelog

All notable changes to the Antigravity Cockpit extension will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).

---

## [1.4.17] - 2025-12-13

### Added
- 启动日志中显示插件版本号，方便问题排查

---

## [1.4.16] - 2025-12-13

### Fixed
- 优化进程识别逻辑，精准匹配 Antigravity 进程
- 避免误识别 Windsurf 等其他编辑器进程
- 强制要求 `--app_data_dir antigravity` 参数或路径包含 `antigravity`

---

## [1.4.15] - 2025-12-13

### Fixed
- 修复所有 ESLint 错误（23 个错误 → 0）
- 将 `require()` 改为 ES6 动态 `import()`
- 为 case 块添加花括号作用域
- 修复 TypeScript `any` 类型警告

### Improved
- 增强 Windows 进程检测容错性
- 添加 PowerShell/WMIC 双向自动切换机制
- 添加切换次数限制防止无限循环
- PowerShell 冷启动等待时间从 1秒 增加到 2秒
- 检测 PowerShell 执行策略和 WMI 服务问题
- 增强诊断信息，提供用户友好的故障排除提示

---

## [1.4.14] - 2025-12-12

### Fixed
- 修复多进程场景下的进程检测问题
- 改进进程验证逻辑

---

## [1.4.13] - 2025-12-12

### Changed
- 分组重命名改用模态框输入
- 移除仪表盘中的"最后更新时间"显示

---

## [1.4.12] - 2025-12-12

### Fixed
- 修复 PowerShell 冷启动超时问题
- 增加进程命令执行超时时间至 8 秒

---

## [1.4.11] - 2025-12-12

### Changed
- 版本号整理

---

## [1.4.1] - 2025-12-11

### Added
- 添加阈值通知开关，支持用户控制是否弹窗提醒

### Fixed
- 修复通知开关状态未正确传递到前端的问题
- 修复点击状态栏和刷新缓存时阈值颜色判断错误的问题

---

## [1.4.0] - 2025-12-11

### Added
- 可配置的警告/危险阈值
- 快捷键支持（查看日志、打开仪表盘等）
- 反馈入口（GitHub Issues）
- 阈值通知功能

### Improved
- 优化配额判断逻辑
- 统一颜色显示标准

---

## [1.3.14] - 2025-12-10

### Added
- 添加备用关键字搜索（通过 `csrf_token` 查找进程）

### Fixed
- 修复 PowerShell 引号转义问题

---

## [1.3.12] - 2025-12-08

### Fixed
- 修正仪表盘状态逻辑
- 完善国际化支持
- Tooltip 中使用完整模型名称

---

## [1.3.1] - 2025-12-07

### Added
- 状态栏彩色指示器（🟢🟡🔴）
- 统一的三色状态逻辑

### Improved
- 精度修复
- 工具提示模型顺序与仪表盘一致

---

## [1.3.0] - 2025-12-07

### Added
- Tooltip 对齐优化
- 统一阈值配置
- 自动重试机制

---

## [1.2.16] - 2025-12-06

### Added
- 首次切换到分组模式时自动分组

---

## [1.2.15] - 2025-12-06

### Added
- 手动自动分组功能
- 持久化分组映射

---

## [1.2.13] - 2025-12-05

### Fixed
- 确保自动置顶在 UI 刷新前执行

---

## [1.2.12] - 2025-12-05

### Fixed
- 使用基于模型 ID 的稳定 groupId

---

## [1.2.11] - 2025-12-05

### Fixed
- 多项改进和错误修复

---

## [1.2.1] - 2025-12-04

### Fixed
- 首次启用分组时自动置顶所有分组

---

## [1.2.0] - 2025-12-04

### Added
- 配额分组功能
- 分组自定义名称
- 分组拖拽排序
- 分组状态栏显示

---

## [1.1.153] - 2025-12-03

### Added
- 使用趋势图可见性切换

---

## [1.1.152] - 2025-12-03

### Added
- 配额历史图表（7 天数据保留）

---

## [1.1.151] - 2025-12-02

### Improved
- 简化用户资料控制
- 数据掩码改用文本按钮
- 可见性切换移至头部

---

## [1.1.150] - 2025-12-02

### Added
- 用户资料可见性切换
- 敏感数据掩码功能

---

## [1.1.149] - 2025-12-02

### Added
- 隐私模式
- 用户资料可见性切换

---

## [1.1.148] - 2025-12-01

### Fixed
- 移除 Prompt Credits 设置
- 配置变更时自动更新状态栏

---

## [1.1.147] - 2025-12-01

### Fixed
- 连接失败时自动重新扫描

---

## [1.1.146] - 2025-11-30

### Fixed
- 状态栏错误状态未清除的问题

---

## [1.1.144] - 2025-11-30

### Changed
- 将"User ID"重命名为"Internal Tier ID"

---

## [1.1.143] - 2025-11-29

### Added
- 详细用户资料字段本地化

---

## [1.1.142] - 2025-11-29

### Improved
- 上下文窗口逻辑移至固定区域

---

## [1.1.14] - 2025-11-28

### Added
- 完整的用户资料详情
- 状态持久化

---

## [1.1.13] - 2025-11-27

### Improved
- 优化 UI 交互
- 修复置顶切换功能

---

## [1.1.12] - 2025-11-27

### Improved
- 增强调试日志
- 优化刷新行为

---

## [1.1.11] - 2025-11-26

### Fixed
- 使用向下取整百分比，避免误导性的 100%

---

## [1.0.0] - 2025-11-25

### Added
- 首次发布 🎉
- 沉浸式仪表盘
- 精确定时刷新
- 交互式控制（拖拽排序、置顶模型）
- 智能状态栏
- 智能通知
- 中英文双语支持
- 跨平台支持（Windows / macOS / Linux）
